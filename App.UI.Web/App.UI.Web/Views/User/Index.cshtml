
<div id="usuarios">
    <form class="form-inline">
        <div class="form-group">
            <label for="exampleInputName2">Search By Name:</label>
            <input type="text" class="form-control" placeholder="Search by name" v-model="searchByName">
        </div>
        <button type="button" class="btn btn-danger" v-on:click="search">Buscar</button>
    </form>
    <br />
    <div class="panel panel-primary">
        <div class="panel-heading">Usuarios</div>
        <div class="panel-body">
            <div class="row">
                <div class="col-md-12">
                    <table class="table">
                        <tr>
                            <th>ID</th>
                            <th>Name</th>
                            <th>Email</th>
                        </tr>
                        <tr v-for="item in items">
                            <td>{{item.ID}}</td>
                            <td>{{item.Nome}}</td>
                            <td>{{item.Email}}</td>
                        </tr>
                    </table>
                </div>
                <div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts
{
    <script>

        var apiUrl = "http://localhost:57231/api";
        var registro = new Vue(
            {
                el: "#usuarios",
                data: {
                    searchByName: "",
                    items: []
                },
                methods: {
                    search: function () {

                        var me = this;
                        me.items=[];
                        //Invocando mediante AJAX
                        $.get(apiUrl + "/usuario",
                            {
                                name: me.searchByName
                            },
                            function (response) {
                                for (var i = 0; i < response.length; i++) {
                                    me.items.push(
                                        {
                                            ID: response[i].ID,
                                            Nome: response[i].Nome,
                                            Email: response[i].Email
                                        }
                                    );
                                }
                            }
                        );

                    }
                }
            }
        );
    </script>

}
